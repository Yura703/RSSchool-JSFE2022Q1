/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={735:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(645),o=t.n(r)()((function(e){return e[1]}));o.push([e.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n',""]);const a=o},518:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(645),o=t.n(r)()((function(e){return e[1]}));o.push([e.id,'body{height:100vh}h1,h2,h3,h4,h5,h6{margin:0;padding:.2rem 0}button{cursor:pointer}.wrapper{width:100%}header.wrapper{background-color:#5e5eef}main.wrapper{background-color:#adaae8}footer.wrapper{background-color:#5e5eef}.hidden{display:none}.header{height:4rem;max-width:1400px;margin:0 auto;display:flex;justify-content:start;align-items:center;gap:2rem}.main{height:100%;max-width:1400px;margin:0 auto}.form .form__create-car{display:flex;justify-content:start;align-items:center;gap:.5rem;flex-wrap:wrap;padding:.2rem 0 .2rem 0}.form .form__create-car .select{width:150px}.form .form__create-car input{width:50px}.form .form__create-car .form__btn_create{width:100px}.form .form__update-car{display:flex;justify-content:start;align-items:center;gap:.5rem;flex-wrap:wrap;padding:.2rem 0 .2rem 0}.form .form__update-car .select{width:150px}.form .form__update-car input{width:50px}.form .form__update-car .form__btn_update{width:100px}.form .form__generate-car{display:flex;justify-content:start;align-items:center;gap:.5rem;flex-wrap:wrap;padding:.2rem 0 .2rem 0}.form .form__generate-car .form__btn_race{width:75px}.form .form__generate-car .form__btn_reset{width:75px}.form .form__generate-car .form__btn_generate{width:150px}.car-track div{display:flex;justify-content:start;align-items:center;gap:.5rem;flex-wrap:wrap;height:2.5rem}.car-track div h3{color:#41095a}.car-track div:nth-child(2) .car-A,.car-track div:nth-child(2) .car-B{border-radius:50%}.car-track div:nth-child(2) .flag{height:30px;width:30px;position:relative;left:calc(100% - 140px)}.avto-road{width:calc(100% - 177px)}div.avto-svg{width:100px;position:relative;top:-30px}.avto-road{border-bottom:dashed red}.table{border-collapse:collapse;width:100%}.table th{color:#ffebcd;background:#008b8b;cursor:pointer}.table td,.table th{width:20%;height:40px;text-align:center;border:2px solid #846868}.table tbody tr:nth-child(even){background:#e3e3e3}th.sorted[data-order="1"],th.sorted[data-order="-1"]{position:relative}th.sorted[data-order="1"]::after,th.sorted[data-order="-1"]::after{right:8px;position:absolute}th.sorted[data-order="-1"]::after{content:"▼"}th.sorted[data-order="1"]::after{content:"▲"}.footer{height:4rem;max-width:1400px;margin:0 auto;display:flex;justify-content:start;align-items:center;gap:1rem}button.inactive{background-color:#6b7274}@keyframes move{0%{left:0}100%{left:90%}}',""]);const a=o},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&o[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),n.push(s))}},n}},379:(e,n,t)=>{var r,o=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a=[];function i(e){for(var n=-1,t=0;t<a.length;t++)if(a[t].identifier===e){n=t;break}return n}function c(e,n){for(var t={},r=[],o=0;o<e.length;o++){var c=e[o],s=n.base?c[0]+n.base:c[0],d=t[s]||0,l="".concat(s," ").concat(d);t[s]=d+1;var u=i(l),m={css:c[1],media:c[2],sourceMap:c[3]};-1!==u?(a[u].references++,a[u].updater(m)):a.push({identifier:l,updater:p(m,n),references:1}),r.push(l)}return r}function s(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=t.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var d,l=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join("\n")});function u(e,n,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(n,o);else{var a=document.createTextNode(o),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(a,i[n]):e.appendChild(a)}}function m(e,n,t){var r=t.css,o=t.media,a=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,h=0;function p(e,n){var t,r,o;if(n.singleton){var a=h++;t=f||(f=s(n)),r=u.bind(null,t,a,!1),o=u.bind(null,t,a,!0)}else t=s(n),r=m.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=c(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=i(t[r]);a[o].references--}for(var s=c(e,n),d=0;d<t.length;d++){var l=i(t[d]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}t=s}}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{var e=t(379),n=t.n(e),r=t(735);n()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;var o=t(518);n()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;const a="http://localhost:3000",i=["Number","Car","Name","Wins","Best time (seconds)"];var c;async function s(e,n){const t=await fetch(e,n);t.parsedBody=await t.json();const r=t.headers.get("X-Total-Count");return r&&(t.count=+r),t}!function(e){e[e.started=0]="started",e[e.stopped=1]="stopped",e[e.drive=2]="drive"}(c||(c={}));const d=`${a}/engine`,l=async(e,n)=>(await s(`${d}?id=${e}&status=${n}`,{method:"PATCH"})).parsedBody,u=`${a}/garage`,m=async e=>{const n=(await s(`${u}/${e}`)).parsedBody;if(n instanceof Array||!n)throw new Error("This ID does not exist");return n},f=async e=>{const n=(await s(u,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).parsedBody;if(n instanceof Array||!n)throw new Error("Object creation failed");return n},h=`${a}/winners`,p=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mersedes","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","Smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],g=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","C4 Cactus","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"];function b(e,n,t){const r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error("Error target for create button");const o=document.createElement("button");return o.innerText=n,t&&o.classList.add(...t),r.append(o),o}var y,w;!function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(y||(y={})),function(e){e[e.id=0]="id",e[e.wins=1]="wins",e[e.time=2]="time"}(w||(w={}));let v,C={number:!0,wins:!0,time:!0};const x={page:1,pageWin:1,carCount:0,editCarId:0,carsAnimation:[{id:0,flag:!0}],carsId:[],wins:[]};function S(e,n){return`<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 180" width="${e}" height="${e}" style="\n            fill: ${n};"><path fill-rule="evenodd" d="m2.2 125.4c0.9-4.5 2.2-9.9 2.2-9.9l-0.2-11.8c0 0 7.5-3.8 7.8-5.6 0.2-1.8 1.1-23.1 3.5-26.8 \n2.5-3.8-1.1-17.1-1.1-17.1h17.4c0 0 17.6-15.1 30-20.7 0 0 2-8.7-5.3-13.3l-0.2-2.7c0 0 16-2.2 37.3-3.8 0 0 7.3-7.9 18-9.1 \n10.7-1.2 135.3-10 166.2 13.4 30.9 23.4 53.1 39 53.1 39 0 0 126.9-0.8 157.2 31.6 0 0 0.4 11.1 0 16.9 0 0 3.1 5.3 7.3 6.6 \n4.3 1.3-1.1 8.8-1.1 8.8 0 0-8.9 4.8-9.5 11.6-0.7 6.9-18.1 15.6-26.3 21.6 0 0 5.2-58-44.5-62.4-49.7-4.5-53.2 59.1-53.2 \n59.1h-180.3c0 0-23.6 7.1-29.4 3.3 0 0-2.2-62.4-47.2-62.4-45 0-52.5 38.6-49 56 0 0-12.4 0.4-17.8-4.5-5.3-4.9-16.5-0.9-16.5-0.9 \n0 0-12.9 0.5-9.3-5.8 0 0-10-6.5-9.1-11.1zm10.2 0.6l34.5 1.7c0 0 13.8-42.7 55.7-42.4 41.8 0.3 50.3 47.2 50.3 47.2l205.3 2.1c0 0 \n2.1-45 50.6-49.3 48.6-4.3 54.4 49.3 54.4 49.3 0 0 12.2-0.1 15.3-2.5 0 0-8.7-0.9-11.1-3.1-2.5-2.2-4.7-48.4-56.3-48.4-51.7 0-57.9 \n47.2-57.9 47.2l-195.9 0.3c0 0-8.7-39.8-49.6-46.4l0.2-19.3 3.1-4.8c35.2 2.4 70.9 3.4 102.4 3.6l1.2 63.4c6-29.4 1.9-53.9-0.3-63.4q6 \n0 11.7 0c20.6 0 39-0.3 53.6-0.6l-0.5-1.2c-0.9-2.5-1.1-4.7-1-6.5-0.4-7.9 6.7-9.2 6.7-9.2-18.2-14.4-47.8-19.7-59.4-20.2-11.6-0.4-6.8 \n9.7-6.8 9.7l6.6 24.5-11.8-0.2c0-0.1-0.1 0.1-0.1 0h-0.1c-3.8-0.1-7.5-0.2-11.3-0.2l-0.1-0.2-3-33.6c0 0-49.3-2.6-58 13.1l2.1 \n19.3c-11.3-0.2-21.8 0.2-30.6 0.1l-0.5-0.1-26.9-0.4c8.3 0.7 16.7 1.4 25.1 2l-4.8 4.2-0.4 18.6c0 0-46.3-0.4-60.1 43.2 0 \n0-9.6-8.3-10.7-17.6 0 0-14.7 3.1-26.7 0 0 0-2.5 8.6 5.1 20.1zm34.8-69.2c1.6-1.1 26.8-19.2 30.9-22.9 4.2-3.7 4.6-7.3 \n4.6-7.3zm270.7 0.1c0 0-43.4-35-74.2-40.5-30.7-5.6-98.1-2.7-118.2 7.3-19.3 9.7-74 30.1-39.9 31.5-19.2-10.4 67.1-35 \n67.1-35 0 0 75.2-7.8 103.3 2.4 28 10.2 59 36.7 59 36.7 3.3 0.1 5.1 0.2 5.1 0.2zm-205-47.3l5.3 4c95.3-8.9 133.8-0.6 \n147.8 4.7-50.5-22.4-153.1-8.7-153.1-8.7zm-48.1 10.8v3.1c0 0 28.5-4.7 44.5-5.9zm232 39.8c0 0 7.1-4.6 \n2.3-9.8-4.7-5.1-10.7-4.8-10.7-4.8 0 0 13 5.7 8.4 14.6zm27.1 1.9c21.3 16.9 9.2 59.3 8.3 62.2 21-50.5-8.3-62.2-8.3-62.2zm19.5 \n62.4h7.8c3.3-22.1 17.5-32.1 17.5-32.1-17.5-1.5-25.3 32.1-25.3 32.1zm138.3-28c4.4-4.4 0-8.7 0-8.7-18.9-14-60.1-14.3-60.1-14.3 \n29.1 9 33.1 17.6 39.9 21.2 6.8 3.6 20.2 1.8 20.2 1.8zm-457.2-32.4c-13.7 15.2 2 16.2 19.2 10.8 17.1-5.3 15.1-10.8 \n15.1-10.8zm225.2 8c0-0.9-0.8-1.7-1.7-1.7h-25.9c-0.9 0-1.6 0.8-1.6 1.7 0 0.9 0.7 1.6 1.6 1.6h25.9c0.9 0 1.7-0.7 \n1.7-1.6zm-104.9-2.2c0-0.9-0.7-1.5-1.5-1.5h-25.8c-0.9 0-1.5 0.6-1.5 1.5 0 0.8 0.6 1.4 1.5 1.4h25.8c0.8 0 1.5-0.6 1.5-1.4z"/><path d="m266 18.4q3.8 1.6 7 3.5c-0.1-0.1-1.9-1.6-7-3.5z"/>\n<path fill-rule="evenodd" d="m101.9 108.1c16.4 0 29.7 13.2 29.7 29.5 0 16.3-13.3 29.5-29.7 29.5-16.4 0-29.7-13.2-29.7-29.5 \n  0-16.3 13.3-29.5 29.7-29.5zm-9.6 6.3l9.6 16.4 8-16.4c-7.1-5.9-17.6 0-17.6 0zm6.2 23.2c0 2.2 1.8 3.9 4 3.9 2.2 0 4-1.7 4-3.9 \n  0-2.2-1.8-3.9-4-3.9-2.2 0-4 1.7-4 3.9zm21-18.5l-10.1 16 18.2-0.4c2-9.1-8.1-15.6-8.1-15.6zm6.8 23.8l-19-0.4 9.7 15.3c8.9-2.8 \n  9.3-14.9 9.3-14.9zm-15.6 19.1l-9.2-16.5-8.4 16.1c7 6.2 17.6 0.4 17.6 0.4zm-24.5-3.8l10.1-16.1-18.2 0.5c-2 9 8.1 15.6 8.1 \n  15.6zm9.3-23.6l-11.7-13.9c-8.4 4.1-7.2 16.1-7.2 16.1z"/>\n<path fill-rule="evenodd" d="m102.5 97.4c22.8 0 41.2 18.3 41.2 41 0 22.7-18.4 41-41.2 41-22.8 0-41.2-18.3-41.2-41 0-22.7 18.4-41 41.2-41zm-33.2 \n  40.2c0 17.9 14.6 32.5 32.6 32.5 18.1 0 32.7-14.6 32.7-32.5 0-18-14.6-32.5-32.7-32.5-18 0-32.6 14.5-32.6 32.5z"/>\n<path fill-rule="evenodd" d="m101.9 108.1c16.4 0 29.7 13.2 29.7 29.5 0 16.3-13.3 29.5-29.7 29.5-16.4 0-29.7-13.2-29.7-29.5 \n  0-16.3 13.3-29.5 29.7-29.5zm-9.6 6.3l9.6 16.4 8-16.4c-7.1-5.9-17.6 0-17.6 0zm6.2 23.2c0 2.2 1.8 3.9 4 3.9 2.2 0 4-1.7 4-3.9 \n  0-2.2-1.8-3.9-4-3.9-2.2 0-4 1.7-4 3.9zm21-18.5l-10.1 16 18.2-0.4c2-9.1-8.1-15.6-8.1-15.6zm6.8 23.8l-19-0.4 9.7 15.3c8.9-2.8 \n  9.3-14.9 9.3-14.9zm-15.6 19.1l-9.2-16.5-8.4 16.1c7 6.2 17.6 0.4 17.6 0.4zm-24.5-3.8l10.1-16.1-18.2 0.5c-2 9 8.1 15.6 8.1 \n  15.6zm9.3-23.6l-11.7-13.9c-8.4 4.1-7.2 16.1-7.2 16.1z"/><path fill-rule="evenodd" d="m101.9 108.1c16.4 0 29.7 13.2 29.7 29.5 0 16.3-13.3 29.5-29.7 29.5-16.4 0-29.7-13.2-29.7-29.5 0-16.3 \n  13.3-29.5 29.7-29.5zm-9.6 6.3l9.6 16.4 8-16.4c-7.1-5.9-17.6 0-17.6 0zm6.2 23.2c0 2.2 1.8 3.9 4 3.9 2.2 0 4-1.7 \n  4-3.9 0-2.2-1.8-3.9-4-3.9-2.2 0-4 1.7-4 3.9zm21-18.5l-10.1 16 18.2-0.4c2-9.1-8.1-15.6-8.1-15.6zm6.8 23.8l-19-0.4 9.7 15.3c8.9-2.8 \n  9.3-14.9 9.3-14.9zm-15.6 19.1l-9.2-16.5-8.4 16.1c7 6.2 17.6 0.4 17.6 0.4zm-24.5-3.8l10.1-16.1-18.2 0.5c-2 9 8.1 15.6 8.1 \n  15.6zm9.3-23.6l-11.7-13.9c-8.4 4.1-7.2 16.1-7.2 16.1z"/>\n<path fill-rule="evenodd" d="m409.1 108.1c16.4 0 29.7 13.2 29.7 29.5 0 16.3-13.3 29.5-29.7 29.5-16.4 0-29.7-13.2-29.7-29.5 0-16.3 \n  13.3-29.5 29.7-29.5zm-9.6 6.3l9.6 16.4 8-16.4c-7.1-5.9-17.6 0-17.6 0zm6.2 23.2c0 2.2 1.8 3.9 4 3.9 2.2 0 4-1.7 4-3.9 \n  0-2.2-1.8-3.9-4-3.9-2.2 0-4 1.7-4 3.9zm21-18.5l-10.2 16 18.2-0.4c2.1-9.1-8-15.6-8-15.6zm6.8 23.8l-19-0.4 9.7 15.3c8.9-2.8 \n  9.3-14.9 9.3-14.9zm-15.6 19.1l-9.3-16.5-8.3 16.1c7 6.2 17.6 0.4 17.6 0.4zm-24.5-3.8l10.1-16.1-18.2 0.5c-2 9 8.1 15.6 8.1 \n  15.6zm9.3-23.6l-11.8-13.9c-8.3 4.1-7.1 16.1-7.1 16.1z"/>\n<path fill-rule="evenodd" d="m409.7 97.4c22.8 0 41.2 18.3 41.2 41 0 22.7-18.4 41-41.2 41-22.8 0-41.2-18.3-41.2-41 0-22.7 18.4-41 \n  41.2-41zm-33.2 40.2c0 17.9 14.6 32.5 32.6 32.5 18.1 0 32.7-14.6 32.7-32.5 0-18-14.6-32.5-32.7-32.5-18 0-32.6 14.5-32.6 32.5z"/>\n<path fill-rule="evenodd" d="m409.1 108.1c16.4 0 29.7 13.2 29.7 29.5 0 16.3-13.3 29.5-29.7 29.5-16.4 0-29.7-13.2-29.7-29.5 0-16.3 \n  13.3-29.5 29.7-29.5zm-9.6 6.3l9.6 16.4 8-16.4c-7.1-5.9-17.6 0-17.6 0zm6.2 23.2c0 2.2 1.8 3.9 4 3.9 2.2 0 4-1.7 4-3.9 0-2.2-1.8-3.9-4-3.9-2.2 \n  0-4 1.7-4 3.9zm21-18.5l-10.2 16 18.2-0.4c2.1-9.1-8-15.6-8-15.6zm6.8 23.8l-19-0.4 9.7 15.3c8.9-2.8 9.3-14.9 9.3-14.9zm-15.6 19.1l-9.3-16.5-8.3 \n  16.1c7 6.2 17.6 0.4 17.6 0.4zm-24.5-3.8l10.1-16.1-18.2 0.5c-2 9 8.1 15.6 8.1 15.6zm9.3-23.6l-11.8-13.9c-8.3 4.1-7.1 16.1-7.1 16.1z"/>\n<path fill-rule="evenodd" d="m409.1 108.1c16.4 0 29.7 13.2 29.7 29.5 0 16.3-13.3 29.5-29.7 29.5-16.4 0-29.7-13.2-29.7-29.5 \n0-16.3 13.3-29.5 29.7-29.5zm-9.6 6.3l9.6 16.4 8-16.4c-7.1-5.9-17.6 0-17.6 0zm6.2 23.2c0 2.2 1.8 3.9 4 3.9 2.2 0 4-1.7 4-3.9 \n0-2.2-1.8-3.9-4-3.9-2.2 0-4 1.7-4 3.9zm21-18.5l-10.2 16 18.2-0.4c2.1-9.1-8-15.6-8-15.6zm6.8 23.8l-19-0.4 9.7 15.3c8.9-2.8 \n9.3-14.9 9.3-14.9zm-15.6 19.1l-9.3-16.5-8.3 16.1c7 6.2 17.6 0.4 17.6 0.4zm-24.5-3.8l10.1-16.1-18.2 0.5c-2 9 8.1 15.6 8.1 \n15.6zm9.3-23.6l-11.8-13.9c-8.3 4.1-7.1 16.1-7.1 16.1z"/> \n          </svg>`}function _(e,n,t){try{const r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error;const o=document.createElement(n);return t&&o.classList.add(...t),r.append(o),o}catch(e){throw new Error(`Error target or type for create ${n}`)}}function z(e,n){_(e,"td").innerText=n[0],_(e,"td").innerHTML=n[1],_(e,"td").innerText=n[2],_(e,"td").innerText=n[3],_(e,"td").innerText=n[4]}async function E(e,n){const t=x.pageWin;return await(async({page:e,limit:n,sort:t,order:r})=>{const{parsedBody:o,count:a}=await s(`${h}?_page=${e}&_limit=${n}&_sort=${t}&_order=${r}`);return{items:o,count:a}})({page:t,limit:7,sort:null!=e?e:"id",order:null!=n?n:"asc"})}function k(e){const n=document.querySelector("h1");n&&(n.innerText=`Winners (${e})`)}async function T(e,n){var t;const r=await E(e,n);r.count&&k(r.count);const o=document.querySelector("tbody");o.innerHTML="",null===(t=r.items)||void 0===t||t.forEach((async e=>{const{name:n,color:t}=await m(e.id),r=S(50,t);z(_(o,"tr"),[e.id.toString(),r,n,e.wins.toString(),e.time.toString()])}))}function A(e,n,t,r){const o=_(e,"div",["car-track"]);return function(e,n,t){const r=_(e,"div");b(r,"SELECT").id="S"+t.toString();const o=b(r,"REMOVE");o.id="R"+t.toString(),o.style.zIndex="1",_(r,"h3").innerText=n}(o,n,r),function(e,n,t){const r=_(e,"div");b(r,"A",["car-A"]).id="A"+t.toString();const o=b(r,"B",["car-B"]);o.id="B"+t.toString(),o.disabled=!0;const a=_(r,"div",["avto-road"]),i=_(a,"div",["avto-svg"]);i.innerHTML=S(100,n),i.id="C"+t.toString();const c=_(a,"img",["flag"]);c.src="./assets/flag.png",c.alt="flag"}(o,t,r),o}var L,R,$,I,M=function(e,n,t,r){if("a"===t&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?r:"a"===t?r.call(e):r?r.value:n.get(e)};class q{constructor(e,n,t){L.add(this),R.set(this,"select"),n instanceof HTMLElement?this._elRoot=n:this._elRoot=document.getElementById(n),this._customSelect=document.createElement("select"),M(this,L,"m",$).call(this,e,this._customSelect),this._customSelect.classList.add(M(this,R,"f")),M(this,L,"m",I).call(this,this._customSelect,t),this._elRoot.append(this._customSelect)}get value(){return this._customSelect.value}disabled(e){this._customSelect.disabled=!!e}addClasses(e){this._customSelect.classList.add(e)}}function B(e,n){const t=document.querySelector(`#A${e}`),r=document.querySelector(`#B${e}`);t&&r&&(t.disabled=n,r.disabled=!n)}function P(e,n,t,r,o,a){const i=a?"update":"create",c=new q(n,e,t);c.addClasses(i);const d=_(e,"input",[i]);d.type="color";const l=b(e,r,o);a?(c.disabled(!0),d.disabled=!0,l.disabled=!0,l.addEventListener("click",(async()=>await async function(e,n){const t=e.value,r=n.value,o=new G(t,r);await(async(e,n)=>{const t=await s(`${u}/${e}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});if(200===t.status)return t.parsedBody;throw new Error("Object update failed")})(x.editCarId,o),K()}(c,d)))):l.addEventListener("click",(()=>async function(e,n){const t=e.value,r=n.value,o=new G(t,r);await f(o),K()}(c,d)))}function j(e){const n=b(e,"RACE",["form__btn_race"]),t=b(e,"RESET",["form__btn_reset"]);t.disabled=!0;const r=b(e,"GENERATE CARS",["form__btn_generate"]);n.addEventListener("click",(async()=>{x.wins=[];let e=[];document.querySelectorAll(".avto-svg").forEach((async n=>{const t=+n.id.slice(1);B(t,!0),e.push(Y(t))})),Promise.all(e).then(),n.disabled=!0,t.disabled=!1})),t.addEventListener("click",(async()=>{let e=[];x.carsId.forEach((async n=>{B(n[0],!1),e.push(Q(n[0]))})),Promise.all(e).then(),t.disabled=!0,n.disabled=!1})),r.addEventListener("click",(async()=>await async function(e){const n=[];for(let e=0;e<100;e++){const e=V();n.push(f(e))}x.carCount<7?n.push(O(".garage")):x.carCount+=100,Promise.all(n).then((e=>{document.querySelector("h1.count").innerText=`Garage (${x.carCount})`}))}()))}async function O(e,n,t=7){const r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error("target element does not exist");const o=null!=n?n:(await U(x.page)).items;if(o){const e=function(e){const n=document.querySelector(".cars");return n?(n.remove(),_(e,"div",["cars"])):_(e,"div",["cars"])}(r);if(function(e){e.addEventListener("click",(async e=>await async function(e){const n=e.target,t=+n.id.slice(1);switch(n.id[0]){case"R":await(async e=>200===(await s(`${u}/${e}`,{method:"DELETE"})).status)(t),K();break;case"S":x.editCarId=t,async function(){const e=document.querySelector("select.update"),n=document.querySelector("input.update"),t=document.querySelector(".form__btn_update");if(e&&n&&t){e.disabled=!1,n.disabled=!1,t.disabled=!1;const o=await m(x.editCarId);e.value=(r=o.name,p.filter((e=>r.includes(e)))[0]),n.value=o.color}var r}();break;case"A":Y(t),B(t,!0);break;case"B":Q(t),B(t,!1)}}(e)))}(e),o instanceof Array)for(let n=0;n<t&&!(n>=o.length);n++)A(e,o[n].name,o[n].color,o[n].id);else A(e,o.name,o.color,o.id)}Z()}async function F(e){const n=document.querySelector(".winners");if(null==n?void 0:n.classList.contains("hidden")){x.page=e?x.page+1:x.page-1;const n=document.querySelector(".garage"),t=document.querySelector(".page");t&&(t.innerText=`Page #${x.page}`),n&&await O(n)}else{x.pageWin=e?x.pageWin+1:x.pageWin-1,document.querySelector(".winners");const n=document.querySelector("h2");n&&(n.innerText=`Page #${x.pageWin}`)}}R=new WeakMap,L=new WeakSet,$=function(e,n){for(let t=0;t<e.length;t++){const r=e[t],o=document.createElement("option");o.textContent=r,o.value=r,n.appendChild(o)}},I=function(e,n){e.addEventListener("change",(()=>{e.dispatchEvent(new CustomEvent("select",{detail:{[n]:e.value},bubbles:!0}))}))};var N,D,X=function(e,n,t,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?e!==n||!o:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,t):o?o.value=t:n.set(e,t),t},W=function(e,n,t,r){if("a"===t&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?r:"a"===t?r.call(e):r?r.value:n.get(e)};class G{constructor(e,n){N.set(this,0),D.set(this,0),this.name=e,this.color=n}set speed(e){X(this,N,e,"f")}get speed(){return W(this,N,"f")}set id(e){X(this,D,e,"f")}get id(){return W(this,D,"f")}}N=new WeakMap,D=new WeakMap;const H=new Set;function J(e){return Math.floor(Math.random()*(e+1))}function V(){const e=`rgb(${J(255)},${J(255)},${J(255)})`,n=p[J(p.length)]+" "+g[J(g.length)];return new G(n,e)}async function U(e=1,n=7){const t=await(async(e,n)=>{const{parsedBody:t,count:r}=await s(`${u}?_page=${e}&_limit=${n}`);return{items:t,count:r}})(e,n);return t.count&&(x.carCount=t.count),t}function Z(){const e=x.carCount>1?Math.ceil(x.carCount/7):1;if(x.carCount>7){const n=document.querySelector(".footer__btn_perv"),t=document.querySelector(".footer__btn_next");if(!t||!n)throw new Error("Target element does not exist");1===e?(n.disabled=!0,t.disabled=!0):1===x.page?(n.disabled=!0,t.disabled=!1):x.page===e?(n.disabled=!1,t.disabled=!0):(n.disabled=!1,t.disabled=!1)}}async function K(){await O(".garage"),document.querySelector("h1.count").innerText=`Garage (${x.carCount})`}async function Y(e,n){try{H.add(e);const t=n||document.querySelector(`#C${e}`);if(!t)throw new Error("Not existing car ID");const{velocity:r,distance:o}=await l(e,"started"),a=o/r,i=await async function(e,n,t){let r=performance.now(),o=requestAnimationFrame((function a(i){let c=(i-r)/e;n.style.left=100*c+"%";const s=H.has(t);c<1&&s&&(o=requestAnimationFrame(a))}));return o}(a,t,e);x.carsId.push([e,i]);const c=await(async e=>{let n=!1;try{const t=await fetch(`${d}?id=${e}&status=drive`,{method:"PATCH"});!t||t instanceof Array||200!==t.status||(n=!0)}catch(e){console.log("Car brocken")}finally{return{success:n}}})(e);if(c.success){const n=await m(e);0===x.wins.length&&function(e,n){var t,r;const o=null!==(t=document.querySelector("span"))&&void 0!==t?t:document.createElement("span");o.innerText=`${e.name} won with time ${n} s`,o.style.color="gold",o.style.paddingLeft="5%",null===(r=document.querySelector(".count"))||void 0===r||r.appendChild(o),(async e=>{const n=(await s(h,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).parsedBody;if(n instanceof Array||!n)throw new Error("Object creation failed")})({wins:1,time:n})}(n,Math.round(a)/1e3),x.wins.push(e)}else H.delete(e),console.log(`car ${e} brocken 500`),cancelAnimationFrame(i)}catch(e){console.log("Error 12345")}}async function Q(e){const n=document.querySelector(`#C${e}`);H.delete(e);const t=await l(e,"stopped");x.carsId.filter((n=>n[0]===e)),t&&n&&(n.style.left="0%")}const ee="hidden";function ne(e){const n=document.querySelector(".garage"),t=document.querySelector(".winners");e?(null==n||n.classList.remove(ee),null==t||t.classList.add(ee)):(null==n||n.classList.add(ee),null==t||t.classList.remove(ee))}!function(){!function(){const e=_("body","header",["wrapper"]),n=_(e,"div",["header"]),t=b(n,"TO GARAGE",["header__btn_to-garage"]),r=b(n,"TO WINNERS",["header__btn_to-winners"]);t.addEventListener("click",(()=>ne(!0))),r.addEventListener("click",(()=>{ne(!1),T()}))}();const e=_("body","main",["wrapper"]);_(e,"main",["main"]),function(){const e=_("body","footer",["wrapper"]),n=_(e,"div",["footer"]),t=b(n,"PREV",["footer__btn_perv"]);t.disabled=!0;const r=b(n,"NEXT",["footer__btn_next"]);r.disabled=!0,r.style.zIndex="1",t.addEventListener("click",(async()=>{F(!1),Z()})),r.addEventListener("click",(async()=>{F(!0),Z()}))}()}(),async function(){const e=await U(x.page),n=_(".main","selection",["garage"]);!function(e){const n=_(e,"div",["form"]),t=_(n,"div",["form__create-car"]),r=_(n,"div",["form__update-car"]),o=_(n,"div",["form__generate-car"]);P(t,p,"carCreate","CREATE",["form__btn_create"]),P(r,p,"carCreate","UPDATE",["form__btn_update"],!0),j(o)}(n),function(e){const n=_(e,"div",["info"]),t=_(n,"div",["info__count"]);_(t,"h1",["count"]).innerText=`Garage (${x.carCount})`;const r=_(n,"div",["info__page"]);_(r,"h2",["page"]).innerText=`Page #${x.page}`}(n),await O(n,e.items)}(),function(){const e=_(".main","selection",["winners","hidden"]);!function(e){const n=_(e,"div",["info"]),t=_(n,"div",["info__count"]);_(t,"h1").innerText="Winners (4)";const r=_(n,"div",["info__page"]);_(r,"h2").innerText="Page# 1"}(e),async function(e){var n;const t=null!=e?e:document.querySelector("winners"),r=await E();r.count&&k(r.count);const o=_(t,"table",["table"]),a=_(o,"thead");!function(e,n){for(let t=0;t<n.length;t++)_(e,"th").innerText=n[t]}(_(a,"tr"),i);const c=_(o,"tbody");null===(n=r.items)||void 0===n||n.forEach((async e=>{const{name:n,color:t}=await m(e.id),r=S(50,t);z(_(c,"tr"),[e.id.toString(),r,n,e.wins.toString(),e.time.toString()])})),document.querySelectorAll("th").forEach((e=>{e.addEventListener("click",(async e=>{switch(e.target.innerText){case"Number":v=C.number?y[1]:y[0],await T("id",v),C.number=!C.number;break;case"Wins":v=C.number?y[0]:y[1],await T("wins",v),C.number=!C.number;break;case"Best time (seconds)":v=C.number?y[0]:y[1],await T("time",v),C.number=!C.number}}))}))}(e)}()})()})();